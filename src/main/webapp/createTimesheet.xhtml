<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"  
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core" 
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets">
   <h:head><title>title</title></h:head>
   <body>
      <ui:composition template="#{employeeBean.template()}">
         <ui:define name="windowTitle">
         	#{msgs.headerCreateSheet}
         </ui:define>
      
         <ui:define name="content">
            <h1 class="header">#{msgs.headerCreateSheet}</h1>
            
            <div class="main">
            
            	<div class="timesheetInfo">
            		<p><b>#{msgs.sheetInfoENumber}</b> #{timeSheetBean.t.employee.empNumber}</p>
      				<p><b>#{msgs.sheetInfoName}</b> #{createTimesheetBean.newTs.employee.name}</p>
      				<p><b>#{msgs.sheetInfoWeek}</b> #{timeSheetBean.t.endWeek}</p>
      			</div>
      
      			<h:form>
					<h:dataTable value = "#{rowListBean.getRows(createTimesheetBean.newTs)}" var = "row"
						styleClass="table" rowClasses="odd,even" headerClass="tableHeading">
	
						<h:column>
         					<f:facet name="header">
      							<h:outputText value="#{msgs.edit}" />
      						</f:facet>
   							<h:selectBooleanCheckbox value="#{row.editable}" onclick="submit()" />
       					</h:column>
         	
       					<h:column>
       						<f:facet name="header">
   								<h:outputText value="#{msgs.delete}" />
   							</f:facet>
   							<h:selectBooleanCheckbox value="#{row.deletable}" onclick="submit()" />
       					</h:column>

   						<h:column>    				
      						<f:facet name = "header">#{msgs.project}</f:facet>
      						<h:outputText rendered="#{not row.editable}" value="#{row.projectID}" />
      						<h:inputText type="number" id="projId" rendered="#{row.editable}" value="#{row.projectID}" />
      						<h:message for="projId" style = "color:red" />
   						</h:column>
   		
   						<h:column>    				
      						<f:facet name = "header">WP</f:facet>
      						<h:outputText rendered="#{not row.editable}" value="#{row.workPackage}" />
      						<h:inputText id="WP" rendered="#{row.editable}" value="#{row.workPackage}" />
      						<h:message for="WP" style = "color:red" />
   						</h:column>
   		
   						<h:column>    				
      						<f:facet name = "header">#{msgs.total}</f:facet>
      						<h:outputText value="#{row.getSum()}" />
   						</h:column>
   		
   						<h:column>    				
      						<f:facet name = "header">#{msgs.sat}</f:facet>
      						<h:outputText rendered="#{not row.editable}" value="#{row.hoursForWeek[0]}" />
      						<h:inputText id="Sat" rendered="#{row.editable}" value="#{row.hoursForWeek[0]}">
      							<f:validateLongRange minimum="0" maximum="24" />
      							<f:validator validatorId="ca.bcit.infosys.timesheet.HoursValidator" />
      						</h:inputText>
      						<h:message for="Sat" style = "color:red" />
   						</h:column>
   		
   						<h:column>    				
      						<f:facet name = "header">#{msgs.sun}</f:facet>
      						<h:outputText rendered="#{not row.editable}" value="#{row.hoursForWeek[1]}" />
      						<h:inputText id="Sun" rendered="#{row.editable}" value="#{row.hoursForWeek[1]}">
      							<f:validateLongRange minimum="0" maximum="24" />
      							<f:validator validatorId="ca.bcit.infosys.timesheet.HoursValidator" />
      						</h:inputText>
      						<h:message for="Sun" style = "color:red" />
   						</h:column>
   		
   						<h:column>    				
      						<f:facet name = "header">#{msgs.mon}</f:facet>
      						<h:outputText rendered="#{not row.editable}" value="#{row.hoursForWeek[2]}" />
      						<h:inputText id="Mon" rendered="#{row.editable}" value="#{row.hoursForWeek[2]}">
      							<f:validateLongRange minimum="0" maximum="24" />
      							<f:validator validatorId="ca.bcit.infosys.timesheet.HoursValidator" />
      						</h:inputText>
      						<h:message for="Mon" style = "color:red" />
   						</h:column>
   		
   						<h:column>    				
      						<f:facet name = "header">#{msgs.tue}</f:facet>
      						<h:outputText rendered="#{not row.editable}" value="#{row.hoursForWeek[3]}" />
      						<h:inputText id="Tue" rendered="#{row.editable}" value="#{row.hoursForWeek[3]}">
      							<f:validateLongRange minimum="0" maximum="24" />
      							<f:validator validatorId="ca.bcit.infosys.timesheet.HoursValidator" />
      						</h:inputText>
      						<h:message for="Tue" style = "color:red" />
   						</h:column>
   		
   						<h:column>    				
      						<f:facet name = "header">#{msgs.wed}</f:facet>
      						<h:outputText rendered="#{not row.editable}" value="#{row.hoursForWeek[4]}" />
      						<h:inputText id="Wed" rendered="#{row.editable}" value="#{row.hoursForWeek[4]}">
      							<f:validateLongRange minimum="0" maximum="24" />
      							<f:validator validatorId="ca.bcit.infosys.timesheet.HoursValidator" />
      						</h:inputText>
      						<h:message for="Wed" style = "color:red" />
   						</h:column>
   		
   						<h:column>    				
      						<f:facet name = "header">#{msgs.thu}</f:facet>
      						<h:outputText rendered="#{not row.editable}" value="#{row.hoursForWeek[5]}" />
      						<h:inputText id="Thu" rendered="#{row.editable}" value="#{row.hoursForWeek[5]}">
      							<f:validateLongRange minimum="0" maximum="24" />
      							<f:validator validatorId="ca.bcit.infosys.timesheet.HoursValidator" />
      						</h:inputText>
      						<h:message for="Thu" style = "color:red" />
   						</h:column>
   		
   						<h:column>    				
      						<f:facet name = "header">#{msgs.fri}</f:facet>
      						<h:outputText rendered="#{not row.editable}" value="#{row.hoursForWeek[6]}" />
      						<h:inputText id="Fri" rendered="#{row.editable}" value="#{row.hoursForWeek[6]}">
      							<f:validateLongRange minimum="0" maximum="24" />
      							<f:validator validatorId="ca.bcit.infosys.timesheet.HoursValidator" />
      						</h:inputText>
      						<h:message for="Fri" style = "color:red" />
   						</h:column>
   		
   						<h:column>    				
      						<f:facet name = "header">#{msgs.notes}</f:facet>
      						<h:outputText rendered="#{not row.editable}" value="#{row.notes}" />
      						<h:inputText rendered="#{row.editable}" value="#{row.notes}" />
   						</h:column>
   		
					</h:dataTable>
			
					<div class="editTableButtons">
						<h:commandButton action="#{createTimesheetBean.addRowFromBean()}" value="#{msgs.addRow}" />
						<h:commandButton action="#{createTimesheetBean.save()}" value="#{msgs.saveEdit}"/>
						<h:commandButton action="#{createTimesheetBean.back()}" value="#{msgs.back}"/>
					</div>
	
				</h:form>
            </div>
      		
         </ui:define>
      </ui:composition>
   </body>
</html>
